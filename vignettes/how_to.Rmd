---
title: "Introduction to the archive"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
  #rmarkdown::html_vignette:
   # css: vignette.css
vignette: >
  %\VignetteIndexEntry{Introduction to the archive}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
  \usepackage[utf8]{inputenc}
---

`DomArchive` is a data package compiling dominance interaction data published
over a century of research. The goal of the package is to facilitate comparative
research on the structure and function of dominance hierarchies. This vignette
provides guidance on how to interact with the data objects in the R package. 

## DomArchive data objects

`DomArchive` contains the following data objects: 

1. `dom.data` - a list containing both data and metadata. Each element of the list
is a unique data entry, named after the first author and year of publication.
Each element of the list contains two named elements -- `matrix` containing the 
interaction sociomatrix and `metadata` containing the metadata associated with the 
data. 

2. `dom.metadata` - a dataframe containing the metadata for the complete dataset. 
The information in the `dom.metadata` dataframe is exactly identical to what you would get if you
extracted and combined every `metadata` element in `dom.data`. 

As an example, here is how to extract the sociomatrix and metadata associated with Schjelderup-Ebbe's 
1922 paper: 

```{r}
devtools::load_all()
data(dom.data)
data(dom.metadata)
## Extract sociomatrix
dom.data$SchjelderupEbbe_1922a$matrix

## Extract metadata from `dom.data`
dom.data$SchjelderupEbbe_1922a$metadata

## Extract metadata from `dom.metadata`
dom.metadata[dom.metadata$fileid == 'SchjelderupEbbe_1922a',]
```

Here is a summary of the metadata associated with each datafile:

|Metadata Column| Meaning                           | Potential values
|---------------|-----------------------------------|-----------------
|fileid         | Unique identifier for data        |
|taxon          | Order                             |
|species        | Species name                      |
|common_name    | Common name                       |
|study_site     | Nation where study was conducted  |
|captivity      | Captive or free-ranging animals?  | "Captive", "Natural"
|sex            | Males, females, or both?          | "M", "F", "MF"
|age            | What age classes                  | "Adult", "Non-Adult", "Mixed"
|measure        | What behavior was measured?       |
|matrix_location|                                   |
|rawbinary      | Are data raw counts or binary?    | "binarized", "raw"


## Subsetting using subset_archive()



## Example analysis
